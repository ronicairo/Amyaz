<style>
	header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		position: relative;
		margin-top: 35px;
		font-family: "Open Sans", sans-serif;
	}

	.dropdown-toggle::after {
		display: none !important;
	}

	nav#menu {
		margin-right: 20px;
	}

	nav#menu ul {
		list-style: none;
		display: flex;
	}

	nav#menu ul li {
		margin-right: 15px;
	}

	nav#menu ul li a {
		color: rgb(0, 0, 0);
		text-decoration: none;
	}

	#burger {
		margin-right: 20px;
		border-radius: 8px;
		font-size: 1.2rem;
		width: 45px;
		height: 45px;
		justify-content: center;
		align-items: center;
		display: none;
		cursor: pointer;
	}

	.round-container {
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		width: 40px;
		height: 40px;
		overflow: hidden;
	}

	.round-container img {
		width: 100%;
		height: 100%;
		object-fit: cover;
		border-radius: 50%;
	}

	.dropdown-menu {
		background-color: white;
		border: none;
		box-shadow: 0 15px 25px rgba(0, 0, 0, 0.6);
		border-radius: 0.25rem;
		margin-top: 10px;
		margin-right: 45px;
	}

	.dropdown-item {
		color: #333;
	}

	.dropdown-item:hover {
		background-color: #e2e6ea;
	}

	.dropdown-toggle {
		display: flex;
		align-items: center;
	}

	#menu ul li a:hover {
		color: #F26766;
	}

	@media screen and (max-width: 768px) {
		#burger {
			display: flex;
			z-index: 99999;
			cursor: pointer;
		}

		#menu {
			bottom: 0;
			position: fixed;
			left: 0;
			right: 0;
			z-index: 1002;
			background: linear-gradient(to bottom, #aacff1,#abd5df,#eaccb1);
			width: 100%;
			height: 51%;
			padding-top: 45px;
			transform: translateY(100%);
			box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.912);
		}

		#menu ul {
			flex-direction: column;
			align-items: center;
			margin-right: 25px;
		}

		#menu ul li {
			text-align: center;
			margin: 10px;
		}

		#menu ul li a {
			font-size: 20px;
		}

		#menu.deploye {
			transform: translateY(0);
		}

		#menu.transition {
			transition: 0.5s ease-in-out;
		}


		.dropdown-toggle {
			display: flex;
			align-items: center;
			justify-content: center;
		}
	}
</style>

<header>
	<h2>
		<a href="{{ path('show_home') }}"><img style="width:50px; margin-left: 20px;" src="/img/logo.png" alt="logo Amyaz"></a>
	</h2>
	<div id="burger">
		<i class="fa-solid fa-bars" id="menu-icon"></i>
	</div>
	<nav id="menu">
		<ul>
			<li>
				<a href="{{ path('show_home') }}">{{ 'navigation.home'|trans }}</a>
			</li>
			<li class="dropdown">
				<a href="{{ path('account') }}" class="dropdown-toggle" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{ 'navigation.learning'|trans }}</a>
				<div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
					<a class="dropdown-item" href="{{ path('berbere_latin') }}">{{ 'navigation.berber_latin'|trans }}</a>
					<a class="dropdown-item" href="{{ path('berbere_traditionnel') }}">{{ 'navigation.berber_traditional'|trans }}</a>
					<a class="dropdown-item" href="{{ path('grammaire') }}">{{ 'navigation.grammar'|trans }}</a>
					<a class="dropdown-item" href="{{ path('app_games') }}">{{ 'navigation.game'|trans }}</a>
				</div>
			</li>
			<li>
				<a href="{{ path('documentation_index') }}">{{ 'navigation.documentation'|trans }}</a>
			</li>
			<li>
				<a href="{{ path('app_conjugation') }}">{{ 'navigation.conjugation'|trans }}</a>
			</li>
			
			{% if not is_granted('ROLE_USER') %}
				<li>
					<a href="{{ path('app_login') }}">{{ 'navigation.login'|trans }}</a>
				</li>
			{% else %}
				<li class="dropdown">
					<a href="{{ path('account') }}" class="dropdown-toggle" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						<div class="flex-shrink-0" style="margin-top: -5px">
							<div class="round-container">
								{% if app.user.picture %}
									<img src="{{ asset('uploads/profile/' ~ app.user.picture) }}" alt="user-profile-picture"/>
								{% else %}
									<img src="{{ asset('uploads/profile/default_profile_picture.jpg') }}" alt="user"/>
								{% endif %}
							</div>
						</div>
					</a>
					<div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
						<a class="dropdown-item" href="{{ path('account') }}">{{ 'navigation.profile'|trans }}</a>
						{% if is_granted('ROLE_ADMIN') or is_granted('ROLE_MODERATOR') %}
							<a class="dropdown-item" href="{{ path('dashboard') }}">{{ 'navigation.dashboard'|trans }}</a>
						{% endif %}
						<a class="dropdown-item" href="{{ path('app_logout') }}">{{ 'navigation.logout'|trans }}</a>
					</div>
				</li>
			{% endif %}
			<li>
				{% if app.request.locale == 'fr' %}
					<a style="text-decoration:underline; color:#F26766;" href="{{ path('change_locale', {locale: 'en'}) }}">ENG

					</a>
				{% elseif app.request.locale == 'en' %}
					<a style="text-decoration:underline; color:#F26766;" href="{{ path('change_locale', {locale: 'fr'}) }}">FR

					</a>
				{% endif %}
			</li>
		</ul>
	</nav>
</header>

<script>
	// MENU BURGER
var burger = document.querySelector('#burger');
var menu = document.querySelector('#menu');
var menuIcon = document.querySelector('#menu-icon');

burger.addEventListener('click', function () {
menu.classList.toggle('deploye');
menu.classList.toggle('transition');

// Changer l'icône entre "bars" et "times"
if (menu.classList.contains('deploye')) {
menuIcon.classList.remove('fa-bars');
menuIcon.classList.add('fa-times');
} else {
menuIcon.classList.remove('fa-times');
menuIcon.classList.add('fa-bars');
}
});

// Fermer le menu lorsque l'utilisateur clique en dehors du menu
document.addEventListener('click', function (event) {
var isClickInsideMenu = menu.contains(event.target);
var isClickOnBurger = burger.contains(event.target);

if (! isClickInsideMenu && ! isClickOnBurger) {
menu.classList.remove('deploye');
menu.classList.remove('transition');
menuIcon.classList.remove('fa-times');
menuIcon.classList.add('fa-bars');
}
});

// Redimensionnement de fenêtre
window.addEventListener('resize', function () {
if (window.innerWidth >= 850) {
menu.classList.remove('deploye');
menu.classList.remove('transition');
menuIcon.classList.remove('fa-times');
menuIcon.classList.add('fa-bars');
}
});
</script>
