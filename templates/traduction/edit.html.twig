{% extends 'base.html.twig' %}

{% form_theme form 'form/_form_errors.html.twig' %}

{% block title %}
	{{ 'title.edit_traduction'|trans }}
{% endblock %}

{% block body %}
	<style>
	.form-box {
		width: 100%;
		max-width: 600px;
		margin: 0px auto;
		padding: 30px;
		background: #1e1e2f;
		border-radius: 12px;
		box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
		color: #fff;
	}

	.form-box h1 {
		font-size: 24px;
		margin-bottom: 20px;
		color: #f4f4f8;
		text-align: center;
	}

	.form-box .user-box {
		margin-bottom: 20px;
	}

	.form-box .user-box input,
	.form-box .user-box textarea,
	.form-box .user-box select {
		width: 100%;
		padding: 10px 15px;
		border: 1px solid #444;
		border-radius: 8px;
		background-color: #2c2c3e;
		color: #fff;
		font-size: 16px;
		transition: border-color 0.3s;
	}

	.form-box .user-box input:focus,
	.form-box .user-box textarea:focus,
	.form-box .user-box select:focus {
		border-color: #03e9f4;
		outline: none;
	}

	.form-box .user-box label {
		display: block;
		margin-bottom: 5px;
		color: #aaa;
		font-size: 14px;
	}

	.form-box .recordLang {
		margin-bottom: 20px;
		padding: 10px;
		border: 1px solid #444;
		border-radius: 8px;
		background: rgba(255, 255, 255, 0.05);
	}

	.form-box .recordLang div {
		color: #fff;
		font-size: 14px;
	}

	.form-box button[type="submit"] {
		width: 100%;
		padding: 10px 15px;
		background: linear-gradient(45deg, #03e9f4, #0378f4);
		border: none;
		border-radius: 8px;
		color: #fff;
		font-size: 16px;
		font-weight: bold;
		cursor: pointer;
		transition: background 0.3s;
	}

	.form-box button[type="submit"]:hover {
		background: linear-gradient(45deg, #0378f4, #03e9f4);
	}

	.form-box a {
		display: block;
		margin-top: 15px;
		color: #aaa;
		text-align: center;
		text-decoration: none;
		transition: color 0.3s;
	}

	.form-box a:hover {
		color: #03e9f4;
	}

	/* Responsive Design */
	@media (max-width: 768px) {
		.form-box {
			padding: 20px;
			font-size: 14px;
		}
	}
</style>

	<div class="col-6 mx-auto">
		{% include 'include/flashes.html.twig' %}
	</div>

	<div class="form-box">
		<h1 class="h3 mb-3 font-weight-normal">
			{{ 'title.edit_traduction'|trans }}
		</h1>

		<div class="mb-3 mt-3 text-center" style="color:#d7acaa; font-size:15px;">
			{{ 'post.champ_obligatoire'|trans }}
		</div>

		{{ form_start(form, {'attr': {'enctype': 'multipart/form-data'}}) }}

		{% if is_granted('ROLE_ADMIN') or is_granted('ROLE_MODERATOR') %}
			<div class="user-box">
				{{ form_row(form.wordFR) }}
			</div>
			<div class="user-box">
				{{ form_row(form.grammarFR) }}
			</div>
			<div class="user-box">
				{{ form_row(form.wordEN) }}
			</div>
			<div class="user-box">
				{{ form_row(form.grammarEN) }}
			</div>
			<div class="user-box">
				{{ form_row(form.singular) }}
			</div>
			<div class="mb-1 recordLang">
				<div style="justify-content: space-between;" class="d-flex d-inline-flex w-100 text-white">
					<div>Enregistrement Rifain singulier</div>
					<div style="font-size: 24px;cursor: pointer;" class="text-right text-white">
						<i id="deleteRiffianSingularBtn" class="bi bi-trash text-danger"></i>
						<i id="startRiffianSingularBtn" class="bi bi-mic record-icon"></i>
					</div>
				</div>


				<div class="audio-container {% if not hasRifainSingularRecord %}d-none{% endif %}">
					<audio controls>
						<source src="{{ path('audio_serve', { id: traduction.id, field: 'rifainSingularRecord' }) }}" type="audio/mp3">
						Your browser does not support the audio element.
					</audio>
					{{ form_row(form.rifainSingularRecord) }}
				</div>

				<div class="no-record {% if hasRifainSingularRecord %}d-none{% endif %}">
					<p class="text-white">Aucun enregistrement</p>
					<input class="record-deleted" type="hidden" name="rifainSingularRecordDeleted" value="false">
				</div>

			</div>
			<div class="user-box">
				{{ form_row(form.plural) }}
			</div>
			<div class="mb-1 recordLang">
				<div style="justify-content: space-between;" class="d-flex d-inline-flex w-100 text-white">
					<div>Enregistrement Rifain pluriel</div>
					<div style="font-size: 24px;cursor: pointer;" class="text-right text-white">
						<i id="deleteRiffianSingularBtn" class="bi bi-trash text-danger"></i>
						<i id="startRiffianPluralBtn" class="bi bi-mic record-icon"></i>
					</div>
				</div>


				<div class="audio-container {% if not hasRifainPluralRecord %}d-none{% endif %}">
					<audio controls>
						<source src="{{ path('audio_serve', { id: traduction.id, field: 'rifainPluralRecord' }) }}" type="audio/mp3">
						Your browser does not support the audio element.
					</audio>
					{{ form_row(form.rifainPluralRecord) }}
				</div>

				<div class="no-record {% if hasRifainPluralRecord %}d-none{% endif %}">
					<p class="text-white">Aucun enregistrement</p>
					<input class="record-deleted" type="hidden" name="rifainPluralRecordDeleted" value="false">
				</div>
			</div>
			<div class="user-box">
				{{ form_row(form.phoneticSingular) }}
			</div>
			<div class="user-box">
				{{ form_row(form.phoneticPlural) }}
			</div>
				<div class="user-box">
				{{ form_row(form.origin) }}
			</div>
				<div class="user-box">
				{{ form_row(form.racine) }}
			</div>
				<div class="user-box">
				{{ form_row(form.example) }}
			</div>
				<div class="user-box">
				{{ form_row(form.source) }}
			</div>
		{% else %}
			{% if locale == 'fr' %}
				<div class="user-box">
					{{ form_row(form.wordFR) }}
				</div>
				<div class="user-box">
					{{ form_row(form.grammarFR) }}
				</div>
			{% elseif locale == 'en' %}
				<div class="user-box">
					{{ form_row(form.wordEN) }}
				</div>
				<div class="user-box">
					{{ form_row(form.grammarEN) }}
				</div>
			{% endif %}
			<div class="user-box">
				{{ form_row(form.singular) }}
			</div>
			<div class="user-box">
				{{ form_row(form.plural) }}
			</div>
			<div class="user-box">
				{{ form_row(form.phoneticSingular) }}
			</div>
			<div class="user-box">
				{{ form_row(form.phoneticPlural) }}
			</div>
		{% endif %}
		<div class="text-center mt-3">
			{{ form_row(form.submit) }}
		</div>
		{{ form_end(form) }}

		<a href="{{ path('documentation_index') }}">{{ 'button.back_list'|trans }}</a>

		<div class="text-center mt-3">
			{{ include('traduction/_delete_form.html.twig') }}
		</div>
	</div>
{% endblock %}
